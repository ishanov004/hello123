{% extends 'layout.html' %}

{% block title %}–§–∏–Ω–∞–Ω—Å–æ–≤—ã–π –æ—Ç—á—ë—Ç{% endblock %}

{% block content %}
<div class="content-card">
    <h1 class="welcome-title">üìä –§–∏–Ω–∞–Ω—Å–æ–≤—ã–π –æ—Ç—á—ë—Ç</h1>

    <!-- Filter Section -->
    <div class="form-grid filter-section">
        <div class="form-group">
            <label for="from_date">–û—Ç –¥–∞—Ç—ã:</label>
            <input type="date" id="from_date" name="from_date" value="{{ from_date }}" onchange="this.form.submit()">
        </div>
        <div class="form-group">
            <label for="to_date">–î–æ –¥–∞—Ç—ã:</label>
            <input type="date" id="to_date" name="to_date" value="{{ to_date }}" onchange="this.form.submit()">
        </div>
        <button type="submit" class="nav-button" formaction="{{ url_for('revision_index') }}">üîç –§–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å</button>
        <a href="{{ url_for('revision_index') }}" class="nav-button reset-button">‚Üª –°–±—Ä–æ—Å–∏—Ç—å</a>
    </div>

    <!-- Statistics Section -->
    <div class="stats-grid">
        <div class="stat-card">
            <h3>–û–±—â–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å –∑–∞–∫—É–ø–æ–∫</h3>
            <p class="stat-value">{{ '{:,.2f}'.format(total_buy) if total_buy is not none else '0.00' }} ‚ÇΩ</p>
        </div>
        <div class="stat-card">
            <h3>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–æ–¥–∞–∂</h3>
            <p class="stat-value">{{ total_sales if total_sales is not none else 0 }}</p>
        </div>
        <div class="stat-card">
            <h3>–û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–æ–¥–∞–Ω–Ω—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤</h3>
            <p class="stat-value">{{ total_quantity_sold if total_quantity_sold is not none else 0 }}</p>
        </div>
        <div class="stat-card">
            <h3>–û–±—â–∞—è –≤—ã—Ä—É—á–∫–∞ –æ—Ç –ø—Ä–æ–¥–∞–∂</h3>
            <p class="stat-value">{{ '{:,.2f}'.format(total_sales_revenue) if total_sales_revenue is not none else '0.00' }} ‚ÇΩ</p>
        </div>
    </div>
</div>
{% endblock %}