{% extends 'layout.html' %}

{% block title %}–ó–∞–∫—É–ø–∫–∏{% endblock %}

{% block content %}
<div class="content-card">
    <h1 class="welcome-title">üì• –ó–∞–∫—É–ø–∫–∏</h1>
    <a href="{{ url_for('buy_add') }}" class="button-link">–î–æ–±–∞–≤–∏—Ç—å –∑–∞–∫—É–ø–∫—É</a>
    <input type="text" id="searchInput" onkeyup="searchTable('searchInput', 'buyTable')" placeholder="–ü–æ–∏—Å–∫ –ø–æ —Ç–æ–≤–∞—Ä—É...">
    <input type="date" id="fromDate" onchange="filterByDate()" placeholder="–û—Ç –¥–∞—Ç—ã">
    <input type="date" id="toDate" onchange="filterByDate()" placeholder="–î–æ –¥–∞—Ç—ã">
    <table id="buyTable">
        <thead>
            <tr>
                <th>–¢–æ–≤–∞—Ä</th>
                <th>–ö–∞—Ç–µ–≥–æ—Ä–∏—è</th>
                <th>–°—Ç—Ä–∞–Ω–∞</th>
                <th>–¶–µ–Ω–∞</th>
                <th>–î–æ—Å—Ç–∞–≤–∫–∞</th>
                <th>–î–∞—Ç–∞</th>
                <th>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ</th>
                <th>–î–µ–π—Å—Ç–≤–∏—è</th>
            </tr>
        </thead>
        <tbody>
            {% for item in items %}
            <tr>
                <td>{{ item.name }}</td>
                <td>{{ item.category }}</td>
                <td>{{ item.country }}</td>
                <td>{{ item.price }}</td>
                <td>{{ item.delivery }}</td>
                <td data-date="{{ item.date }}">{{ item.date }}</td>
                <td>{{ item.quantity }}</td>
                <td>
                    <a href="{{ url_for('buy_edit', item_id=item.id) }}" class="button-link">–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å</a>
                    <a href="{{ url_for('buy_delete', item_id=item.id) }}" class="button-link">–£–¥–∞–ª–∏—Ç—å</a>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    <script src="{{ url_for('static', filename='js/filters.js') }}"></script>
</div>
{% endblock %}
