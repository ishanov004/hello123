{% extends 'layout.html' %}

{% block title %}–ö–∞—Ç–µ–≥–æ—Ä–∏–∏{% endblock %}

{% block content %}
<div class="content-card">
    <h1 class="welcome-title">üìÇ –ö–∞—Ç–µ–≥–æ—Ä–∏–∏</h1>
    {% if session.get('role') != 'viewer' %}
   <a href="{{ url_for('categories_add') }}" class="btn">‚ûï –î–æ–±–∞–≤–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é</a>
    {% endif %}
    <input type="text" id="searchInput" onkeyup="searchTable('searchInput', 'categoriesTable')" placeholder="–ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é...">
    <table id="categoriesTable">
        <thead>
            <tr>
                <th>ID</th>
                <th>–ù–∞–∑–≤–∞–Ω–∏–µ</th>
                {% if session.get('role') != 'viewer' %}
                <th>–î–µ–π—Å—Ç–≤–∏—è</th>
                {% endif %}
            </tr>
        </thead>
        <tbody>
            {% for cat in categories %}
            <tr>
                <td>{{ cat.id }}</td>
                <td>{{ cat.name }}</td>
                {% if session.get('role') != 'viewer' %}
                <td>
                    <a href="{{ url_for('categories_edit', category_id=cat.id) }}" class="button-link">–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å</a>
                    <a href="{{ url_for('categories_delete', category_id=cat.id) }}" class="button-link">–£–¥–∞–ª–∏—Ç—å</a>
                </td>
                {% endif %}
            </tr>
            {% endfor %}
        </tbody>
    </table>
    <script src="{{ url_for('static', filename='js/filters.js') }}"></script>
</div>
{% endblock %}
